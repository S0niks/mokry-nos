<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Мероприятия - Мокрый нос</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
  <div id="navbar"></div>

  <h1>Мероприятия</h1>

  <div id="unauthorized-message" style="display: none;">
    <p>Зарегистрируйтесь или войдите в профиль, чтобы использовать все возможности сайта</p>
    <button onclick="window.location.href='/pages/register.html'">Зарегистрироваться</button>
  </div>

  <div id="authorized-content" style="display: none;">
    <div id="admin-event-controls" style="display: none;">
      <button id="add-event-button">Добавить мероприятие</button>
    </div>
    <div id="event-filters">
      <label for="sort-event-date">Сортировка по дате проведения:</label>
      <select id="sort-event-date">
        <option value="newest" selected>Сначала новые</option>
        <option value="oldest">Сначала старые</option>
      </select>
    </div>
    <div id="event-list"></div>
  </div>

  <!-- Модальное окно для добавления мероприятия -->
  <div id="add-event-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="modal-close">×</span>
      <h2>Добавить мероприятие</h2>
      <form id="add-event-form">
        <label for="add-title">Заголовок:</label>
        <input type="text" id="add-title" name="title" required>
        <label for="add-description">Описание:</label>
        <textarea id="add-description" name="description" required></textarea>
        <label for="add-event-date">Дата мероприятия:</label>
        <input type="date" id="add-event-date" name="event_date" required>
        <label for="add-media">Медиа (изображение или видео):</label>
        <input type="file" id="add-media" name="media" accept="image/jpeg,image/jpg,image/png,video/mp4">
        <button type="submit">Добавить</button>
      </form>
    </div>
  </div>

  <!-- Модальное окно для редактирования мероприятия -->
  <div id="edit-event-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="modal-close">×</span>
      <h2>Редактировать мероприятие</h2>
      <form id="edit-event-form">
        <input type="hidden" id="edit-event-id" name="id">
        <label for="edit-title">Заголовок:</label>
        <input type="text" id="edit-title" name="title" required>
        <label for="edit-description">Описание:</label>
        <textarea id="edit-description" name="description" required></textarea>
 callers: []
        <label for="edit-event-date">Дата мероприятия:</label>
        <input type="date" id="edit-event-date" name="event_date" required>
        <label for="edit-media">Медиа (изображение или видео):</label>
        <input type="file" id="edit-media" name="media" accept="image/jpeg,image/jpg,image/png,video/mp4">
        <p>Текущее медиа: <span id="edit-current-media"></span></p>
        <button type="submit">Сохранить</button>
      </form>
    </div>
  </div>

  <!-- Модальное окно для удаления мероприятия -->
  <div id="delete-event-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="modal-close">×</span>
      <h2>Удалить мероприятие</h2>
      <p>Вы уверены, что хотите удалить мероприятие "<span id="delete-event-title"></span>"?</p>
      <input type="hidden" id="delete-event-id">
      <button id="confirm-delete-button">Удалить</button>
      <button class="cancel-button">Отмена</button>
    </div>
  </div>

  <script src="../assets/js/events.js"></script>

</body>
</html>